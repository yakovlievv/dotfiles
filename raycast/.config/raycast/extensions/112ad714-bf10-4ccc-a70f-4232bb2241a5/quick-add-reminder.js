"use strict";var Yn=Object.create;var Tt=Object.defineProperty;var Un=Object.getOwnPropertyDescriptor;var Fn=Object.getOwnPropertyNames;var Hn=Object.getPrototypeOf,Bn=Object.prototype.hasOwnProperty;var rr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ln=(r,e)=>{for(var t in e)Tt(r,t,{get:e[t],enumerable:!0})},nr=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fn(e))!Bn.call(r,i)&&i!==t&&Tt(r,i,{get:()=>e[i],enumerable:!(n=Un(e,i))||n.enumerable});return r};var te=(r,e,t)=>(t=r!=null?Yn(Hn(r)):{},nr(e||!r||!r.__esModule?Tt(t,"default",{value:r,enumerable:!0}):t,r)),jn=r=>nr(Tt({},"__esModule",{value:!0}),r);var ir=rr((Wt,It)=>{(function(r,e){typeof Wt=="object"&&typeof It<"u"?It.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(Wt,function(){"use strict";var r="month",e="quarter";return function(t,n){var i=n.prototype;i.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(o-1))};var s=i.add;i.add=function(o,u){return o=Number(o),this.$utils().p(u)===e?this.add(3*o,r):s.bind(this)(o,u)};var a=i.startOf;i.startOf=function(o,u){var l=this.$utils(),h=!!l.u(u)||u;if(l.p(o)===e){var g=this.quarter()-1;return h?this.month(3*g).startOf(r).startOf("day"):this.month(3*g+2).endOf(r).endOf("day")}return a.bind(this)(o,u)}}})});var re=rr((vt,_t)=>{(function(r,e){typeof vt=="object"&&typeof _t<"u"?_t.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=e()})(vt,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",i="second",s="minute",a="hour",o="day",u="week",l="month",h="quarter",g="year",I="date",mt="Invalid Date",ht=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,pt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var f=["th","st","nd","rd"],d=p%100;return"["+p+(f[(d-20)%10]||f[d]||f[0])+"]"}},K=function(p,f,d){var m=String(p);return!m||m.length>=f?p:""+Array(f+1-m.length).join(d)+p},gt={s:K,z:function(p){var f=-p.utcOffset(),d=Math.abs(f),m=Math.floor(d/60),c=d%60;return(f<=0?"+":"-")+K(m,2,"0")+":"+K(c,2,"0")},m:function p(f,d){if(f.date()<d.date())return-p(d,f);var m=12*(d.year()-f.year())+(d.month()-f.month()),c=f.clone().add(m,l),y=d-c<0,T=f.clone().add(m+(y?-1:1),l);return+(-(m+(d-c)/(y?c-T:T-c))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:l,y:g,w:u,d:o,D:I,h:a,m:s,s:i,ms:n,Q:h}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},J="en",G={};G[J]=Q;var le="$isDayjsObject",Te=function(p){return p instanceof L||!(!p||!p[le])},we=function p(f,d,m){var c;if(!f)return J;if(typeof f=="string"){var y=f.toLowerCase();G[y]&&(c=y),d&&(G[y]=d,c=y);var T=f.split("-");if(!c&&T.length>1)return p(T[0])}else{var A=f.name;G[A]=f,c=A}return!m&&c&&(J=c),c||!m&&J},k=function(p,f){if(Te(p))return p.clone();var d=typeof f=="object"?f:{};return d.date=p,d.args=arguments,new L(d)},P=gt;P.l=we,P.i=Te,P.w=function(p,f){return k(p,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var L=function(){function p(d){this.$L=we(d.locale,null,!0),this.parse(d),this.$x=this.$x||d.x||{},this[le]=!0}var f=p.prototype;return f.parse=function(d){this.$d=function(m){var c=m.date,y=m.utc;if(c===null)return new Date(NaN);if(P.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var T=c.match(ht);if(T){var A=T[2]-1||0,R=(T[7]||"0").substring(0,3);return y?new Date(Date.UTC(T[1],A,T[3]||1,T[4]||0,T[5]||0,T[6]||0,R)):new Date(T[1],A,T[3]||1,T[4]||0,T[5]||0,T[6]||0,R)}}return new Date(c)}(d),this.init()},f.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},f.$utils=function(){return P},f.isValid=function(){return this.$d.toString()!==mt},f.isSame=function(d,m){var c=k(d);return this.startOf(m)<=c&&c<=this.endOf(m)},f.isAfter=function(d,m){return k(d)<this.startOf(m)},f.isBefore=function(d,m){return this.endOf(m)<k(d)},f.$g=function(d,m,c){return P.u(d)?this[m]:this.set(c,d)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(d,m){var c=this,y=!!P.u(m)||m,T=P.p(d),A=function(he,v){var ee=P.w(c.$u?Date.UTC(c.$y,v,he):new Date(c.$y,v,he),c);return y?ee:ee.endOf(o)},R=function(he,v){return P.w(c.toDate()[he].apply(c.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(v)),c)},b=this.$W,N=this.$M,U=this.$D,xe="set"+(this.$u?"UTC":"");switch(T){case g:return y?A(1,0):A(31,11);case l:return y?A(1,N):A(0,N+1);case u:var me=this.$locale().weekStart||0,Ce=(b<me?b+7:b)-me;return A(y?U-Ce:U+(6-Ce),N);case o:case I:return R(xe+"Hours",0);case a:return R(xe+"Minutes",1);case s:return R(xe+"Seconds",2);case i:return R(xe+"Milliseconds",3);default:return this.clone()}},f.endOf=function(d){return this.startOf(d,!1)},f.$set=function(d,m){var c,y=P.p(d),T="set"+(this.$u?"UTC":""),A=(c={},c[o]=T+"Date",c[I]=T+"Date",c[l]=T+"Month",c[g]=T+"FullYear",c[a]=T+"Hours",c[s]=T+"Minutes",c[i]=T+"Seconds",c[n]=T+"Milliseconds",c)[y],R=y===o?this.$D+(m-this.$W):m;if(y===l||y===g){var b=this.clone().set(I,1);b.$d[A](R),b.init(),this.$d=b.set(I,Math.min(this.$D,b.daysInMonth())).$d}else A&&this.$d[A](R);return this.init(),this},f.set=function(d,m){return this.clone().$set(d,m)},f.get=function(d){return this[P.p(d)]()},f.add=function(d,m){var c,y=this;d=Number(d);var T=P.p(m),A=function(N){var U=k(y);return P.w(U.date(U.date()+Math.round(N*d)),y)};if(T===l)return this.set(l,this.$M+d);if(T===g)return this.set(g,this.$y+d);if(T===o)return A(1);if(T===u)return A(7);var R=(c={},c[s]=e,c[a]=t,c[i]=r,c)[T]||1,b=this.$d.getTime()+d*R;return P.w(b,this)},f.subtract=function(d,m){return this.add(-1*d,m)},f.format=function(d){var m=this,c=this.$locale();if(!this.isValid())return c.invalidDate||mt;var y=d||"YYYY-MM-DDTHH:mm:ssZ",T=P.z(this),A=this.$H,R=this.$m,b=this.$M,N=c.weekdays,U=c.months,xe=c.meridiem,me=function(v,ee,We,yt){return v&&(v[ee]||v(m,y))||We[ee].slice(0,yt)},Ce=function(v){return P.s(A%12||12,v,"0")},he=xe||function(v,ee,We){var yt=v<12?"AM":"PM";return We?yt.toLowerCase():yt};return y.replace(pt,function(v,ee){return ee||function(We){switch(We){case"YY":return String(m.$y).slice(-2);case"YYYY":return P.s(m.$y,4,"0");case"M":return b+1;case"MM":return P.s(b+1,2,"0");case"MMM":return me(c.monthsShort,b,U,3);case"MMMM":return me(U,b);case"D":return m.$D;case"DD":return P.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return me(c.weekdaysMin,m.$W,N,2);case"ddd":return me(c.weekdaysShort,m.$W,N,3);case"dddd":return N[m.$W];case"H":return String(A);case"HH":return P.s(A,2,"0");case"h":return Ce(1);case"hh":return Ce(2);case"a":return he(A,R,!0);case"A":return he(A,R,!1);case"m":return String(R);case"mm":return P.s(R,2,"0");case"s":return String(m.$s);case"ss":return P.s(m.$s,2,"0");case"SSS":return P.s(m.$ms,3,"0");case"Z":return T}return null}(v)||T.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(d,m,c){var y,T=this,A=P.p(m),R=k(d),b=(R.utcOffset()-this.utcOffset())*e,N=this-R,U=function(){return P.m(T,R)};switch(A){case g:y=U()/12;break;case l:y=U();break;case h:y=U()/3;break;case u:y=(N-b)/6048e5;break;case o:y=(N-b)/864e5;break;case a:y=N/t;break;case s:y=N/e;break;case i:y=N/r;break;default:y=N}return c?y:P.a(y)},f.daysInMonth=function(){return this.endOf(l).$D},f.$locale=function(){return G[this.$L]},f.locale=function(d,m){if(!d)return this.$L;var c=this.clone(),y=we(d,m,!0);return y&&(c.$L=y),c},f.clone=function(){return P.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},p}(),Y=L.prototype;return k.prototype=Y,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",o],["$M",l],["$y",g],["$D",I]].forEach(function(p){Y[p[1]]=function(f){return this.$g(f,p[0],p[1])}}),k.extend=function(p,f){return p.$i||(p(f,L,k),p.$i=!0),k},k.locale=we,k.isDayjs=Te,k.unix=function(p){return k(1e3*p)},k.en=G[J],k.Ls=G,k.p={},k})});var zs={};Ln(zs,{default:()=>_n});module.exports=jn(zs);var S=require("@raycast/api");var or=te(ir(),1),Dt=te(re(),1);var w;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(w||(w={}));var E;(function(r){r[r.SUNDAY=0]="SUNDAY",r[r.MONDAY=1]="MONDAY",r[r.TUESDAY=2]="TUESDAY",r[r.WEDNESDAY=3]="WEDNESDAY",r[r.THURSDAY=4]="THURSDAY",r[r.FRIDAY=5]="FRIDAY",r[r.SATURDAY=6]="SATURDAY"})(E||(E={}));var _;(function(r){r[r.JANUARY=1]="JANUARY",r[r.FEBRUARY=2]="FEBRUARY",r[r.MARCH=3]="MARCH",r[r.APRIL=4]="APRIL",r[r.MAY=5]="MAY",r[r.JUNE=6]="JUNE",r[r.JULY=7]="JULY",r[r.AUGUST=8]="AUGUST",r[r.SEPTEMBER=9]="SEPTEMBER",r[r.OCTOBER=10]="OCTOBER",r[r.NOVEMBER=11]="NOVEMBER",r[r.DECEMBER=12]="DECEMBER"})(_||(_={}));function sr(r,e){e=e.add(1,"day"),Yt(r,e),De(r,e)}function j(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}function wt(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",w.AM):r.assign("meridiem",w.PM)}function Yt(r,e){r.imply("day",e.date()),r.imply("month",e.month()+1),r.imply("year",e.year())}function De(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}var Ut=te(re(),1);var Gn={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:r=>ar(r,_.MARCH,E.SUNDAY,2),dstEnd:r=>ar(r,_.OCTOBER,E.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:r=>ne(r,_.MARCH,E.SUNDAY,2,2),dstEnd:r=>ne(r,_.NOVEMBER,E.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:r=>ne(r,_.MARCH,E.SUNDAY,2,2),dstEnd:r=>ne(r,_.NOVEMBER,E.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:r=>ne(r,_.MARCH,E.SUNDAY,2,2),dstEnd:r=>ne(r,_.NOVEMBER,E.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:r=>ne(r,_.MARCH,E.SUNDAY,2,2),dstEnd:r=>ne(r,_.NOVEMBER,E.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function ne(r,e,t,n,i=0){let s=0,a=0;for(;a<n;)s++,new Date(r,e-1,s).getDay()===t&&a++;return new Date(r,e-1,s,i)}function ar(r,e,t,n=0){let i=t===0?7:t,s=new Date(r,e-1+1,1,12),a=s.getDay()===0?7:s.getDay(),o;return a===i?o=7:a<i?o=7+a-i:o=a-i,s.setDate(s.getDate()-o),new Date(r,e-1,s.getDate(),n)}function xt(r,e,t={}){if(r==null)return null;if(typeof r=="number")return r;let n=t[r]??Gn[r];return n==null?null:typeof n=="number"?n:e==null?null:(0,Ut.default)(e).isAfter(n.dstStart(e.getFullYear()))&&!(0,Ut.default)(e).isAfter(n.dstEnd(e.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}Dt.default.extend(or.default);var ie=class{instant;timezoneOffset;constructor(e){e=e??new Date,e instanceof Date?(this.instant=e,this.timezoneOffset=null):(this.instant=e.instant??new Date,this.timezoneOffset=xt(e.timezone,this.instant))}getDateWithAdjustedTimezone(){let e=new Date(this.instant);return this.timezoneOffset!==null&&e.setMinutes(e.getMinutes()-this.getSystemTimezoneAdjustmentMinute(this.instant)),e}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);let n=-e.getTimezoneOffset(),i=t??this.timezoneOffset??n;return n-i}getTimezoneOffset(){return this.timezoneOffset??-this.instant.getTimezoneOffset()}},x=class r{knownValues;impliedValues;reference;_tags=new Set;constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let i in t)this.knownValues[i]=t[i];let n=e.getDateWithAdjustedTimezone();this.imply("day",n.getDate()),this.imply("month",n.getMonth()+1),this.imply("year",n.getFullYear()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new r(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return(0,Dt.default)(this.dateWithoutTimezoneAdjustment())}date(){let e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+t*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(let t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let n=(0,Dt.default)(e.getDateWithAdjustedTimezone());for(let s in t)n=n.add(t[s],s);let i=new r(e);return i.addTag("result/relativeDate"),t.hour||t.minute||t.second?(i.addTag("result/relativeDateAndTime"),wt(i,n),j(i,n),i.assign("timezoneOffset",e.getTimezoneOffset())):(De(i,n),i.imply("timezoneOffset",e.getTimezoneOffset()),t.d?(i.assign("day",n.date()),i.assign("month",n.month()+1),i.assign("year",n.year())):t.week?(i.assign("day",n.date()),i.assign("month",n.month()+1),i.assign("year",n.year()),i.imply("weekday",n.day())):(i.imply("day",n.date()),t.month?(i.assign("month",n.month()+1),i.assign("year",n.year())):(i.imply("month",n.month()+1),t.year?i.assign("year",n.year()):i.imply("year",n.year())))),i}},z=class r{refDate;index;text;reference;start;end;constructor(e,t,n,i,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=i||new x(e),this.end=s}clone(){let e=new r(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}addTag(e){return this.start.addTag(e),this.end&&this.end.addTag(e),this}addTags(e){return this.start.addTags(e),this.end&&this.end.addTags(e),this}tags(){let e=new Set(this.start.tags());if(this.end)for(let t of this.end.tags())e.add(t);return e}toString(){let e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}};function Ft(r,e,t="\\s{0,5},?\\s{0,5}"){let n=e.replace(/\((?!\?)/g,"(?:");return`${r}${n}(?:${t}${n}){0,10}`}function zn(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}function W(r){return`(?:${zn(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}var ur=te(re(),1);function Pt(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}function se(r,e,t){let n=(0,ur.default)(r),i=n;i=i.month(t-1),i=i.date(e),i=i.year(n.year());let s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(n))<Math.abs(i.diff(n))?i=s:Math.abs(a.diff(n))<Math.abs(i.diff(n))&&(i=a),i.year()}var Ot={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},Lt={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},F={...Lt,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},Ht={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},Bt={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},cr={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},Ie={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...cr},fr=`(?:${W(Ht)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function Vn(r){let e=r.toLowerCase();return Ht[e]!==void 0?Ht[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}var Pe=`(?:${W(Bt)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Oe(r){let e=r.toLowerCase();return Bt[e]!==void 0?Bt[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}var ae="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function oe(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return Pt(e)}var lr=`(${fr})\\s{0,3}(${W(Ie)})`,dr=new RegExp(lr,"i"),qn=`(${fr})\\s{0,3}(${W(cr)})`,mr="\\s{0,5},?(?:\\s*and)?\\s{0,5}",V=Ft("(?:(?:about|around)\\s{0,3})?",lr,mr),ue=Ft("(?:(?:about|around)\\s{0,3})?",qn,mr);function H(r){let e={},t=r,n=dr.exec(t);for(;n;)Zn(e,n),t=t.substring(n[0].length).trim(),n=dr.exec(t);return Object.keys(e).length==0?null:e}function Zn(r,e){if(e[0].match(/^[a-zA-Z]+$/))return;let t=Vn(e[1]),n=Ie[e[2].toLowerCase()];r[n]=t}var O=class{innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}cachedInnerPattern=null;cachedPattern=null;pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,t){let n=t[1]??"";t.index=t.index+n.length,t[0]=t[0].substring(n.length);for(let i=2;i<t.length;i++)t[i-1]=t[i];return this.innerExtract(e,t)}};var Xn=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${V})(?=\\W|$)`,"i"),Qn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${V})(?=\\W|$)`,"i"),Kn=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ue})(?=\\W|$)`,"i"),ve=class extends O{strictMode;constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?Kn:e.option.forwardDate?Xn:Qn}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;let n=H(t[1]);return n?x.createRelativeFromReference(e.reference,n):null}};var Jn=new RegExp(`(?:on\\s{0,3})?(${Pe})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Pe}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${W(F)})(?:(?:-|/|,?\\s{0,3})(${ae}(?!\\w)))?(?=\\W|$)`,"i"),hr=1,pr=2,ei=3,gr=4,_e=class extends O{innerPattern(){return Jn}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=F[t[ei].toLowerCase()],s=Oe(t[hr]);if(s>31)return t.index=t.index+t[hr].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[gr]){let a=oe(t[gr]);n.start.assign("year",a)}else{let a=se(e.refDate,s,i);n.start.imply("year",a)}if(t[pr]){let a=Oe(t[pr]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};var ti=new RegExp(`(${W(F)})(?:-|/|\\s*,?\\s*)(${Pe})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Pe})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${ae}))?(?=\\W|$)(?!\\:\\d)`,"i"),ri=1,yr=2,jt=3,Gt=4,Ye=class extends O{shouldSkipYearLikeDate;constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return ti}innerExtract(e,t){let n=F[t[ri].toLowerCase()],i=Oe(t[yr]);if(i>31||this.shouldSkipYearLikeDate&&!t[jt]&&!t[Gt]&&t[yr].match(/^2[0-5]$/))return null;let s=e.createParsingComponents({day:i,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[Gt]){let u=oe(t[Gt]);s.assign("year",u)}else{let u=se(e.refDate,i,n);s.imply("year",u)}if(!t[jt])return s;let a=Oe(t[jt]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};var ni=new RegExp(`((?:in)\\s*)?(${W(F)})\\s*(?:(?:,|-|of)?\\s*(${ae})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),ii=1,si=2,Tr=3,Ue=class extends O{innerPattern(){return ni}innerExtract(e,t){let n=t[si].toLowerCase();if(t[0].length<=3&&!Lt[n])return null;let i=e.createParsingResult(t.index+(t[ii]||"").length,t.index+t[0].length);i.start.imply("day",1),i.start.addTag("parser/ENMonthNameParser");let s=F[n];if(i.start.assign("month",s),t[Tr]){let a=oe(t[Tr]);i.start.assign("year",a)}else{let a=se(e.refDate,1,s);i.start.imply("year",a)}return i}};var ai=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${W(F)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),oi=1,ui=2,wr=3,di=4,Fe=class extends O{strictMonthDateOrder;constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return ai}innerExtract(e,t){let n=parseInt(t[oi]),i=parseInt(t[di]),s=t[wr]?parseInt(t[wr]):F[t[ui].toLowerCase()];if(s<1||s>12){if(this.strictMonthDateOrder)return null;i>=1&&i<=12&&([s,i]=[i,s])}return i<1||i>31?null:{day:i,month:s,year:n}}};var ci=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),fi=1,li=2,He=class extends O{innerPattern(){return ci}innerExtract(e,t){let n=parseInt(t[li]),i=parseInt(t[fi]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};function mi(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function hi(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var xr=2,Me=3,Mt=4,At=5,Be=6,Et=class{strictMode;constructor(e=!1){this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);let i=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(i,s,n);t.index+=t[0].length;let o=e.text.substring(t.index),l=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&l&&(l[0].match(/^\s*([+-])\s*\d{2,4}$/)||l[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!l||l[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,l,a),a.end&&(a.text+=l[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,n=!1){let i=e.createParsingComponents(),s=0,a=null,o=parseInt(t[xr]);if(o>100){if(this.strictMode||t[Me]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[Me]!=null){if(t[Me].length==1&&!t[Be])return null;s=parseInt(t[Me])}if(s>=60)return null;if(o>12&&(a=w.PM),t[Be]!=null){if(o>12)return null;let u=t[Be][0].toLowerCase();u=="a"&&(a=w.AM,o==12&&(o=0)),u=="p"&&(a=w.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",w.AM):i.imply("meridiem",w.PM),t[At]!=null){let u=parseInt(t[At].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Mt]!=null){let u=parseInt(t[Mt]);if(u>=60)return null;i.assign("second",u)}return i}extractFollowingTimeComponents(e,t,n){let i=e.createParsingComponents();if(t[At]!=null){let u=parseInt(t[At].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Mt]!=null){let u=parseInt(t[Mt]);if(u>=60)return null;i.assign("second",u)}let s=parseInt(t[xr]),a=0,o=-1;if(t[Me]!=null?a=parseInt(t[Me]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=w.PM),t[Be]!=null){if(s>12)return null;let u=t[Be][0].toLowerCase();u=="a"&&(o=w.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),u=="p"&&(o=w.PM,s!=12&&(s+=12)),n.start.isCertain("meridiem")||(o==w.AM?(n.start.imply("meridiem",w.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",w.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>s?i.imply("meridiem",w.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",w.PM)):s>12?i.imply("meridiem",w.PM):s<=12&&i.imply("meridiem",w.AM),i.date().getTime()<n.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],i=t[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let s=parseInt(i),a=parseInt(n);if(s>24||a>24)return null}return e}cachedPrimaryPrefix=null;cachedPrimarySuffix=null;cachedPrimaryTimePattern=null;getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=mi(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}cachedFollowingPhase=null;cachedFollowingSuffix=null;cachedFollowingTimePatten=null;getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=hi(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};var Le=class extends Et{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(!n)return n;if(t[0].endsWith("night")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",w.PM)):i<6&&n.assign("meridiem",w.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",w.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}return t[0].endsWith("morning")&&(n.assign("meridiem",w.AM),n.get("hour")<12&&n.assign("hour",n.get("hour"))),n.addTag("parser/ENTimeExpressionParser")}extractFollowingTimeComponents(e,t,n){let i=super.extractFollowingTimeComponents(e,t,n);return i&&i.addTag("parser/ENTimeExpressionParser"),i}};function de(r){let e={};for(let t in r)e[t]=-r[t];return e}function Dr(r,e){let t=r.clone(),n=r.dayjs();for(let i in e)n=n.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}var pi=new RegExp(`(${V})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),gi=new RegExp(`(${ue})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),je=class extends O{strictMode;constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?gi:pi}innerExtract(e,t){let n=H(t[1]);if(!n)return null;let i=de(n);return x.createRelativeFromReference(e.reference,i)}};var yi=new RegExp(`(${V})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),Ti=new RegExp(`(${ue})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),wi=1,Ge=class extends O{strictMode;constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?Ti:yi}innerExtract(e,t){let n=H(t[wi]);return n?x.createRelativeFromReference(e.reference,n):null}};var Ae=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}},B=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];let o=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,e))n.push(i),i=s;else{let u=i,l=s,h=this.mergeResults(o,u,l,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${l} into ${h}`)}),i=h}}return i!=null&&n.push(i),n}};var ze=class extends B{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(s=>{t.start.isCertain(s)||t.start.imply(s,n.start.get(s))}),t.start.getCertainComponents().forEach(s=>{n.start.isCertain(s)||n.start.imply(s,t.start.get(s))})),t.start.date().getTime()>n.start.date().getTime()){let s=t.start.dayjs(),a=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):t.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),t.start.imply("day",s.date()),t.start.imply("month",s.month()+1),t.start.imply("year",s.year())):n.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(s)?(a=a.add(1,"years"),n.start.imply("year",a.year())):t.start.isDateWithUnknownYear()&&s.add(-1,"years").isBefore(a)?(s=s.add(-1,"years"),t.start.imply("year",s.year())):[n,t]=[t,n]}let i=t.clone();return i.start=t.start,i.end=n.start,i.index=Math.min(t.index,n.index),t.index<n.index?i.text=t.text+e+n.text:i.text=n.text+e+t.text,i}};var Ve=class extends ze{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}};function zt(r,e){let t=r.clone(),n=r.start,i=e.start;if(t.start=Pr(n,i),r.end!=null||e.end!=null){let s=r.end==null?r.start:r.end,a=e.end==null?e.start:e.end,o=Pr(s,a);if(r.end==null&&o.date().getTime()<t.start.date().getTime()){let u=o.dayjs().add(1,"day");o.isCertain("day")?j(o,u):Yt(o,u)}t.end=o}return t}function Pr(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==w.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t.addTags(r.tags()),t.addTags(e.tags()),t}var qe=class extends B{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let i=t.start.isOnlyDate()?zt(t,n):zt(n,t);return i.index=t.index,i.text=t.text+e+n.text,i}};var Ee=class extends qe{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|\u2219|:)?\\s*$")}};var xi=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),Ze=class{timezoneOverrides;constructor(e){this.timezoneOverrides=e}refine(e,t){let n=e.option.timezones??{};return t.forEach(i=>{let s=e.text.substring(i.index+i.text.length),a=xi.exec(s);if(!a)return;let o=a[1].toUpperCase(),u=i.start.date()??i.refDate??new Date,l={...this.timezoneOverrides,...n},h=xt(o,u,l);if(h==null)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${h} for: ${i.start}`)});let g=i.start.get("timezoneOffset");g!==null&&h!=g&&(i.start.isCertain("timezoneOffset")||o!=a[1])||i.start.isOnlyDate()&&o!=a[1]||(i.text+=a[0],i.start.isCertain("timezoneOffset")||i.start.assign("timezoneOffset",h),i.end!=null&&!i.end.isCertain("timezoneOffset")&&i.end.assign("timezoneOffset",h))}),t}};var Di=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),Pi=1,Oi=2,Mi=3,Xe=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let i=e.text.substring(n.index+n.text.length),s=Di.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${n}`)});let a=parseInt(s[Oi]),o=parseInt(s[Mi]||"0"),u=a*60+o;u>14*60||(s[Pi]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=s[0])}),t}};var ce=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0];for(let s=1;s<t.length;s++){let a=t[s];if(a.index>=i.index+i.text.length){n.push(i),i=a;continue}let o=null,u=null;a.text.length>i.text.length?(o=a,u=i):(o=i,u=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${u} by ${o}`)}),i=o}return i!=null&&n.push(i),n}};var Or=te(re(),1);function bt(r,e){r.imply("day",e.getDate()),r.imply("month",e.getMonth()+1),r.imply("year",e.getFullYear())}var Qe=class{refine(e,t){return e.option.forwardDate&&t.forEach(n=>{let i=(0,Or.default)(e.reference.getDateWithAdjustedTimezone());if(n.start.isOnlyTime()&&e.reference.instant>n.start.date()){let s=e.reference.getDateWithAdjustedTimezone(),a=new Date(s);a.setDate(a.getDate()+1),bt(n.start,a),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} time from the ref date (${s}) to the following day (${a})`)}),n.end&&n.end.isOnlyTime()&&(bt(n.end,a),n.start.date()>n.end.date()&&(a.setDate(a.getDate()+1),bt(n.end,a)))}if(n.start.isOnlyWeekdayComponent()&&i.isAfter(n.start.dayjs())&&(i.day()>=n.start.get("weekday")?i=i.day(n.start.get("weekday")+7):i=i.day(n.start.get("weekday")),n.start.imply("day",i.date()),n.start.imply("month",i.month()+1),n.start.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(i.day()>n.end.get("weekday")?i=i.day(n.end.get("weekday")+7):i=i.day(n.end.get("weekday")),n.end.imply("day",i.date()),n.end.imply("month",i.month()+1),n.end.imply("year",i.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.end})`)}))),n.start.isDateWithUnknownYear()&&i.isAfter(n.start.dayjs()))for(let s=0;s<3&&i.isAfter(n.start.dayjs());s++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} year (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} month (${n.start})`)}))}),t}};var Ke=class extends Ae{strictMode;constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};var Ei=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),bi=1,Si=2,Ri=3,Mr=4,Ni=5,Ar=6,Er=7,ki=8,br=9,Sr=10,Je=class extends O{innerPattern(){return Ei}innerExtract(e,t){let n=e.createParsingComponents({year:parseInt(t[bi]),month:parseInt(t[Si]),day:parseInt(t[Ri])});if(t[Mr]!=null&&(n.assign("hour",parseInt(t[Mr])),n.assign("minute",parseInt(t[Ni])),t[Ar]!=null&&n.assign("second",parseInt(t[Ar])),t[Er]!=null&&n.assign("millisecond",parseInt(t[Er])),t[ki]!=null)){let i=0;if(t[br]){let s=parseInt(t[br]),a=0;t[Sr]!=null&&(a=parseInt(t[Sr])),i=s*60,i<0?i-=a:i+=a}n.assign("timezoneOffset",i)}return n.addTag("parser/ISOFormatParser")}};var et=class extends B{mergeResults(e,t,n){let i=n.clone();return i.index=t.index,i.text=t.text+e+i.text,i.start.assign("weekday",t.start.get("weekday")),i.end&&i.end.assign("weekday",t.start.get("weekday")),i}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};function Rr(r,e=!1){return r.parsers.unshift(new Je),r.refiners.unshift(new et),r.refiners.unshift(new Xe),r.refiners.unshift(new ce),r.refiners.push(new Ze),r.refiners.push(new ce),r.refiners.push(new Qe),r.refiners.push(new Ke(e)),r}var Hr=te(re(),1);var be=te(re(),1);function Nr(r){let e=(0,be.default)(r.getDateWithAdjustedTimezone()),t=new x(r,{});return j(t,e),wt(t,e),t.assign("timezoneOffset",r.getTimezoneOffset()),t.addTag("casualReference/now"),t}function kr(r){let e=(0,be.default)(r.getDateWithAdjustedTimezone()),t=new x(r,{});return j(t,e),De(t,e),t.addTag("casualReference/today"),t}function $r(r){return $i(r,1).addTag("casualReference/yesterday")}function $i(r,e){return St(r,-e)}function Cr(r){return St(r,1).addTag("casualReference/tomorrow")}function St(r,e){let t=(0,be.default)(r.getDateWithAdjustedTimezone()),n=new x(r,{});return t=t.add(e,"day"),j(n,t),De(n,t),n}function Wr(r,e=22){let t=(0,be.default)(r.getDateWithAdjustedTimezone()),n=new x(r,{});return j(n,t),n.imply("hour",e),n.imply("meridiem",w.PM),n.addTag("casualReference/tonight"),n}function Ir(r,e=20){let t=new x(r,{});return t.imply("meridiem",w.PM),t.imply("hour",e),t.addTag("casualReference/evening"),t}function vr(r){let e=new x(r,{}),t=(0,be.default)(r.getDateWithAdjustedTimezone());return t.hour()>2&&sr(e,t),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function _r(r,e=6){let t=new x(r,{});return t.imply("meridiem",w.AM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/morning"),t}function Yr(r,e=15){let t=new x(r,{});return t.imply("meridiem",w.PM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/afternoon"),t}function Ur(r){let e=new x(r,{});return e.imply("meridiem",w.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}var Ci=/(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,tt=class extends O{innerPattern(e){return Ci}innerExtract(e,t){let n=(0,Hr.default)(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"now":s=Nr(e.reference);break;case"today":s=kr(e.reference);break;case"yesterday":s=$r(e.reference);break;case"tomorrow":case"tmr":case"tmrw":s=Cr(e.reference);break;case"tonight":s=Wr(e.reference);break;case"overmorrow":s=St(e.reference,2);break;default:i.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),j(s,n),s.imply("hour",0));break}return s.addTag("parser/ENCasualDateParser"),s}};var Wi=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i,rt=class extends O{innerPattern(){return Wi}innerExtract(e,t){let n=null;switch(t[1].toLowerCase()){case"afternoon":n=Yr(e.reference);break;case"evening":case"night":n=Ir(e.reference);break;case"midnight":n=vr(e.reference);break;case"morning":n=_r(e.reference);break;case"noon":case"midday":n=Ur(e.reference);break}return n&&n.addTag("parser/ENCasualTimeParser"),n}};function Br(r,e,t){let n=r.getDateWithAdjustedTimezone(),i=Ii(n,e,t),s=new x(r);return s=Dr(s,{day:i}),s.assign("weekday",e),s}function Ii(r,e,t){let n=r.getDay();switch(t){case"this":return Rt(r,e);case"last":return Lr(r,e);case"next":return n==E.SUNDAY?e==E.SUNDAY?7:e:n==E.SATURDAY?e==E.SATURDAY?7:e==E.SUNDAY?8:1+e:e<n&&e!=E.SUNDAY?Rt(r,e):Rt(r,e)+7}return vi(r,e)}function vi(r,e){let t=Lr(r,e),n=Rt(r,e);return n<-t?n:t}function Rt(r,e){let t=r.getDay(),n=e-t;return n<0&&(n+=7),n}function Lr(r,e){let t=r.getDay(),n=e-t;return n>=0&&(n-=7),n}var _i=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${W(Ot)}|weekend|weekday)(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),Yi=1,Ui=2,Fi=3,nt=class extends O{innerPattern(){return _i}innerExtract(e,t){let n=t[Yi],i=t[Fi],s=n||i;s=s||"",s=s.toLowerCase();let a=null;s=="last"||s=="past"?a="last":s=="next"?a="next":s=="this"&&(a="this");let o=t[Ui].toLowerCase(),u;if(Ot[o]!==void 0)u=Ot[o];else if(o=="weekend")u=a=="last"?E.SUNDAY:E.SATURDAY;else if(o=="weekday"){let l=e.reference.getDateWithAdjustedTimezone().getDay();l==E.SUNDAY||l==E.SATURDAY?u=a=="last"?E.FRIDAY:E.MONDAY:(u=l-1,u=a=="last"?u-1:u+1,u=u%5+1)}else return null;return Br(e.reference,u,a)}};var jr=te(re(),1);var Hi=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${W(Ie)})(?=\\s*)(?=\\W|$)`,"i"),Bi=1,Li=2,it=class extends O{innerPattern(){return Hi}innerExtract(e,t){let n=t[Bi].toLowerCase(),i=t[Li].toLowerCase(),s=Ie[i];if(n=="next"||n.startsWith("after")){let u={};return u[s]=1,x.createRelativeFromReference(e.reference,u)}if(n=="last"||n=="past"){let u={};return u[s]=-1,x.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=(0,jr.default)(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};var ji=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Gi=1,zi=5,Gr=2,zr=3,Vt=4,st=class{groupNumberMonth;groupNumberDay;constructor(e){this.groupNumberMonth=e?zr:Gr,this.groupNumberDay=e?Gr:zr}pattern(){return ji}extract(e,t){let n=t.index+t[Gi].length,i=t.index+t[0].length-t[zi].length;if(n>0&&e.text.substring(0,n).match("\\d/?$")||i<e.text.length&&e.text.substring(i).match("^/?\\d"))return;let s=e.text.substring(n,i);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Vt]&&s.indexOf("/")<0)return;let a=e.createParsingResult(n,s),o=parseInt(t[this.groupNumberMonth]),u=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(u>=1&&u<=12&&o<=31)[u,o]=[o,u];else return null;if(u<1||u>31)return null;if(a.start.assign("day",u),a.start.assign("month",o),t[Vt]){let l=parseInt(t[Vt]),h=Pt(l);a.start.assign("year",h)}else{let l=se(e.refDate,u,o);a.start.imply("year",l)}return a.addTag("parser/SlashDateFormatParser")}};var Vi=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${V})(?=\\W|$)`,"i"),qi=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${ue})(?=\\W|$)`,"i"),at=class extends O{allowAbbreviations;constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?Vi:qi}innerExtract(e,t){let n=t[1].toLowerCase(),i=H(t[2]);if(!i)return null;switch(n){case"last":case"past":case"-":i=de(i);break}return x.createRelativeFromReference(e.reference,i)}};function Zi(r){return r.text.match(/^[+-]/i)!=null}function Vr(r){return r.text.match(/^-/i)!=null}var ot=class extends B{shouldMergeResults(e,t,n){return e.match(/^\s*$/i)?Zi(n)||Vr(n):!1}mergeResults(e,t,n,i){let s=H(n.text);Vr(n)&&(s=de(s));let a=x.createRelativeFromReference(new ie(t.start.date()),s);return new z(t.reference,t.index,`${t.text}${e}${n.text}`,a)}};function qr(r){return r.text.match(/\s+(before|from)$/i)!=null}function Xi(r){return r.text.match(/\s+(after|since)$/i)!=null}var ut=class extends B{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!qr(t)&&!Xi(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let i=H(t.text);qr(t)&&(i=de(i));let s=x.createRelativeFromReference(new ie(n.start.date()),i);return new z(n.reference,t.index,`${t.text}${e}${n.text}`,s)}};var Qi=new RegExp(`^\\s*(${ae})`,"i"),Ki=1,dt=class{refine(e,t){return t.forEach(function(n){if(!n.start.isDateWithUnknownYear())return;let i=e.text.substring(n.index+n.text.length),s=Qi.exec(i);if(!s||s[0].trim().length<=3)return;e.debug(()=>{console.log(`Extracting year: '${s[0]}' into : ${n}`)});let a=oe(s[Ki]);n.end!=null&&n.end.assign("year",a),n.start.assign("year",a),n.text+=s[0]}),t}};var ct=class extends Ae{constructor(){super()}isValid(e,t){let n=t.text.trim();return n===e.text.trim()?!0:n.toLowerCase()==="may"&&!e.text.substring(0,t.index).trim().match(/\b(in)$/i)?(e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):n.toLowerCase().endsWith("the second")?(e.text.substring(t.index+t.text.length).trim().length>0&&e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):!0}};var pe=class{createCasualConfiguration(e=!1){let t=this.createConfiguration(!1,e);return t.parsers.push(new tt),t.parsers.push(new rt),t.parsers.push(new Ue),t.parsers.push(new it),t.parsers.push(new at),t.refiners.push(new ct),t}createConfiguration(e=!0,t=!1){let n=Rr({parsers:[new st(t),new ve(e),new _e,new Ye(t),new nt,new He,new Le(e),new je(e),new Ge(e)],refiners:[new Ee]},e);return n.parsers.unshift(new Fe(e)),n.refiners.unshift(new ut),n.refiners.unshift(new ot),n.refiners.unshift(new ce),n.refiners.push(new Ee),n.refiners.push(new dt),n.refiners.push(new Ve),n}};var Se=class r{parsers;refiners;defaultConfig=new pe;constructor(e){e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new r({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let i=this.parse(e,t,n);return i.length>0?i[0].start.date():null}parse(e,t,n){let i=new qt(e,t,n),s=[];return this.parsers.forEach(a=>{let o=r.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(e,t){let n=[],i=t.pattern(e),s=e.text,a=e.text,o=i.exec(a);for(;o;){let u=o.index+s.length-a.length;o.index=u;let l=t.extract(e,o);if(!l){a=s.substring(o.index+1),o=i.exec(a);continue}let h=null;l instanceof z?h=l:l instanceof x?(h=e.createParsingResult(o.index,o[0]),h.start=l):h=e.createParsingResult(o.index,o[0],l);let g=h.index,I=h.text;e.debug(()=>console.log(`${t.constructor.name} extracted (at index=${g}) '${I}'`)),n.push(h),a=s.substring(g+I.length),o=i.exec(a)}return n}},qt=class{text;option;reference;refDate;constructor(e,t,n){this.text=e,this.reference=new ie(t),this.option=n??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof x?e:new x(this.reference,e)}createParsingResult(e,t,n,i){let s=typeof t=="string"?t:this.text.substring(e,t),a=n?this.createParsingComponents(n):null,o=i?this.createParsingComponents(i):null;return new z(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};var Zt=new pe,Zr=new Se(Zt.createCasualConfiguration(!1)),Ji=new Se(Zt.createConfiguration(!0,!1)),Qu=new Se(Zt.createCasualConfiguration(!0));var ts=Zr;function Xr(r,e,t){return ts.parse(r,e,t)}function M(r){let e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function $(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function q(r,e){let t=M(r);return isNaN(e)?$(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Qr(r,e){let t=M(r);if(isNaN(e))return $(r,NaN);if(!e)return t;let n=t.getDate(),i=$(r,t.getTime());i.setMonth(t.getMonth()+e+1,0);let s=i.getDate();return n>=s?i:(t.setFullYear(i.getFullYear(),i.getMonth(),n),t)}function Kr(r,e){let t=+M(r);return $(r,t+e)}var ns=Math.pow(10,8)*24*60*60*1e3,dd=-ns,Nt=6048e5,Jr=864e5;var en=36e5;var is=3600;var tn=is*24,cd=tn*7,ss=tn*365.2425,as=ss/12,fd=as*3;function rn(r,e){return Kr(r,e*en)}var os={};function fe(){return os}function Z(r,e){let t=fe(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=M(r),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function ge(r){return Z(r,{weekStartsOn:1})}function kt(r){let e=M(r),t=e.getFullYear(),n=$(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);let i=ge(n),s=$(r,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);let a=ge(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Xt(r){let e=M(r);return e.setHours(0,0,0,0),e}function Qt(r){let e=M(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function nn(r,e){let t=Xt(r),n=Xt(e),i=+t-Qt(t),s=+n-Qt(n);return Math.round((i-s)/Jr)}function sn(r){let e=kt(r),t=$(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ge(t)}function an(r,e){return Qr(r,e*12)}function on(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function un(r){if(!on(r)&&typeof r!="number")return!1;let e=M(r);return!isNaN(Number(e))}function dn(r){let e=M(r),t=$(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}var us={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cn=(r,e,t)=>{let n,i=us[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function $t(r){return(e={})=>{let t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}var ds={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cs={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fs={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fn={date:$t({formats:ds,defaultWidth:"full"}),time:$t({formats:cs,defaultWidth:"full"}),dateTime:$t({formats:fs,defaultWidth:"full"})};var ls={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ln=(r,e,t,n)=>ls[r];function Re(r){return(e,t)=>{let n=t?.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){let a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{let a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;i=r.values[o]||r.values[a]}let s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}var ms={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hs={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ps={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ys={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ts={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ws=(r,e)=>{let t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},mn={ordinalNumber:ws,era:Re({values:ms,defaultWidth:"wide"}),quarter:Re({values:hs,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Re({values:ps,defaultWidth:"wide"}),day:Re({values:gs,defaultWidth:"wide"}),dayPeriod:Re({values:ys,defaultWidth:"wide",formattingValues:Ts,defaultFormattingWidth:"wide"})};function Ne(r){return(e,t={})=>{let n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;let a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(o)?Ds(o,g=>g.test(a)):xs(o,g=>g.test(a)),l;l=r.valueCallback?r.valueCallback(u):u,l=t.valueCallback?t.valueCallback(l):l;let h=e.slice(a.length);return{value:l,rest:h}}}function xs(r,e){for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function Ds(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function hn(r){return(e,t={})=>{let n=e.match(r.matchPattern);if(!n)return null;let i=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;let o=e.slice(i.length);return{value:a,rest:o}}}var Ps=/^(\d+)(th|st|nd|rd)?/i,Os=/\d+/i,Ms={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},As={any:[/^b/i,/^(a|c)/i]},Es={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bs={any:[/1/i,/2/i,/3/i,/4/i]},Ss={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ks={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$s={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pn={ordinalNumber:hn({matchPattern:Ps,parsePattern:Os,valueCallback:r=>parseInt(r,10)}),era:Ne({matchPatterns:Ms,defaultMatchWidth:"wide",parsePatterns:As,defaultParseWidth:"any"}),quarter:Ne({matchPatterns:Es,defaultMatchWidth:"wide",parsePatterns:bs,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ne({matchPatterns:Ss,defaultMatchWidth:"wide",parsePatterns:Rs,defaultParseWidth:"any"}),day:Ne({matchPatterns:Ns,defaultMatchWidth:"wide",parsePatterns:ks,defaultParseWidth:"any"}),dayPeriod:Ne({matchPatterns:$s,defaultMatchWidth:"any",parsePatterns:Cs,defaultParseWidth:"any"})};var Kt={code:"en-US",formatDistance:cn,formatLong:fn,formatRelative:ln,localize:mn,match:pn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gn(r){let e=M(r);return nn(e,dn(e))+1}function yn(r){let e=M(r),t=+ge(e)-+sn(e);return Math.round(t/Nt)+1}function Ct(r,e){let t=M(r),n=t.getFullYear(),i=fe(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=$(r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);let o=Z(a,e),u=$(r,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);let l=Z(u,e);return t.getTime()>=o.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Tn(r,e){let t=fe(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Ct(r,e),s=$(r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Z(s,e)}function wn(r,e){let t=M(r),n=+Z(t,e)-+Tn(t,e);return Math.round(n/Nt)+1}function D(r,e){let t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}var X={y(r,e){let t=r.getFullYear(),n=t>0?t:1-t;return D(e==="yy"?n%100:n,e.length)},M(r,e){let t=r.getMonth();return e==="M"?String(t+1):D(t+1,2)},d(r,e){return D(r.getDate(),e.length)},a(r,e){let t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return D(r.getHours()%12||12,e.length)},H(r,e){return D(r.getHours(),e.length)},m(r,e){return D(r.getMinutes(),e.length)},s(r,e){return D(r.getSeconds(),e.length)},S(r,e){let t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return D(i,e.length)}};var ke={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jt={G:function(r,e,t){let n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){let n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return X.y(r,e)},Y:function(r,e,t,n){let i=Ct(r,n),s=i>0?i:1-i;if(e==="YY"){let a=s%100;return D(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):D(s,e.length)},R:function(r,e){let t=kt(r);return D(t,e.length)},u:function(r,e){let t=r.getFullYear();return D(t,e.length)},Q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return D(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return D(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){let n=r.getMonth();switch(e){case"M":case"MM":return X.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){let n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return D(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){let i=wn(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):D(i,e.length)},I:function(r,e,t){let n=yn(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):D(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):X.d(r,e)},D:function(r,e,t){let n=gn(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):D(n,e.length)},E:function(r,e,t){let n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){let i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return D(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){let i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return D(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){let n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return D(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){let i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){let n=r.getHours(),i;switch(n===12?i=ke.noon:n===0?i=ke.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){let n=r.getHours(),i;switch(n>=17?i=ke.evening:n>=12?i=ke.afternoon:n>=4?i=ke.morning:i=ke.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return X.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):X.H(r,e)},K:function(r,e,t){let n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):D(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):D(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):X.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):X.s(r,e)},S:function(r,e){return X.S(r,e)},X:function(r,e,t){let n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Dn(n);case"XXXX":case"XX":return ye(n);case"XXXXX":case"XXX":default:return ye(n,":")}},x:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"x":return Dn(n);case"xxxx":case"xx":return ye(n);case"xxxxx":case"xxx":default:return ye(n,":")}},O:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xn(n,":");case"OOOO":default:return"GMT"+ye(n,":")}},z:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xn(n,":");case"zzzz":default:return"GMT"+ye(n,":")}},t:function(r,e,t){let n=Math.trunc(r.getTime()/1e3);return D(n,e.length)},T:function(r,e,t){let n=r.getTime();return D(n,e.length)}};function xn(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+D(s,2)}function Dn(r,e){return r%60===0?(r>0?"-":"+")+D(Math.abs(r)/60,2):ye(r,e)}function ye(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),i=D(Math.trunc(n/60),2),s=D(n%60,2);return t+i+e+s}var Pn=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},On=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ws=(r,e)=>{let t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return Pn(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Pn(n,e)).replace("{{time}}",On(i,e))},Mn={p:On,P:Ws};var Is=/^D+$/,vs=/^Y+$/,_s=["D","DD","YY","YYYY"];function An(r){return Is.test(r)}function En(r){return vs.test(r)}function bn(r,e,t){let n=Ys(r,e,t);if(console.warn(n),_s.includes(r))throw new RangeError(n)}function Ys(r,e,t){let n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Us=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hs=/^'([^]*?)'?$/,Bs=/''/g,Ls=/[a-zA-Z]/;function C(r,e,t){let n=fe(),i=t?.locale??n.locale??Kt,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=M(r);if(!un(o))throw new RangeError("Invalid time value");let u=e.match(Fs).map(h=>{let g=h[0];if(g==="p"||g==="P"){let I=Mn[g];return I(h,i.formatLong)}return h}).join("").match(Us).map(h=>{if(h==="''")return{isToken:!1,value:"'"};let g=h[0];if(g==="'")return{isToken:!1,value:js(h)};if(Jt[g])return{isToken:!0,value:h};if(g.match(Ls))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(u=i.localize.preprocessor(o,u));let l={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(h=>{if(!h.isToken)return h.value;let g=h.value;(!t?.useAdditionalWeekYearTokens&&En(g)||!t?.useAdditionalDayOfYearTokens&&An(g))&&bn(g,e,String(r));let I=Jt[g[0]];return I(o,g,i.localize,l)}).join("")}function js(r){let e=r.match(Hs);return e?e[1].replace(Bs,"'"):r}function Sn(r){return M(r).getDay()}function $e(r,e){let t=e-Sn(r);return t<=0&&(t+=7),q(r,t)}function Rn(r){return $e(r,5)}function Nn(r){return $e(r,6)}function kn(r){return $e(r,0)}function ft(r,e){return rn(r,-e)}var $n=require("@raycast/api"),Cn=require("path"),Wn=require("fs/promises"),In=require("child_process");async function vn(r,...e){let t=(0,Cn.join)($n.environment.assetsPath,"compiled_raycast_swift/AppleReminders");return await(0,Wn.chmod)(t,"755"),new Promise((n,i)=>{let s=[r];for(let l of e)try{s.push(JSON.stringify(l,(h,g)=>g===void 0?null:g))}catch(h){i(new lt("Failed to serialize input to JSON: "+h.message));return}let a=(0,In.spawn)(t,s),o=[],u=[];a.stdout?.on("data",l=>{o.push(l.toString())}),a.stderr?.on("data",l=>{u.push(l.toString())}),a.on("exit",l=>{if(l===0)try{let h=o.join("").trim();h.length!=0?n(JSON.parse(h)):n(null)}catch(h){let g=new lt("Failed to deserialize result from JSON: "+h.message);g.stdout=o.join("").trim(),g.stderr=u.join("").trim(),i(g)}else{let h=new lt(u.join("").trim()||o.join("").trim()||"Could not get any data");h.stdout=o.join("").trim(),h.stderr=u.join("").trim(),i(h)}}),a.on("error",l=>{i(l)})})}async function er(){return await vn("getData")}async function tr(r){return await vn("createReminder",r)}var lt=class extends Error{constructor(e){super(e),this.name="SwiftError"}};async function _n(r){try{let e=(0,S.getPreferenceValues)();if(e.shouldCloseMainWindow?await(0,S.closeMainWindow)():await(0,S.showToast)({style:S.Toast.Style.Animated,title:"Adding to-do"}),!S.environment.canAccess(S.AI)||e.dontUseAI){let Y=r.arguments.text,p,f,d,m=Xr(Y);if(m&&m.length>0){let b=m[0].start;d=b.isCertain("hour")||b.isCertain("minute")||b.isCertain("second");let N=b.date();f=d?N.toISOString():C(N,"yyyy-MM-dd")}let c=Y.match(/#(\w+)/);c&&(p=(await er()).lists.find(N=>N.title.toLowerCase()===c[1].toLowerCase()));let y=Y.replace(c?c[0]:"","").replace(m&&m.length>0?m[0].text:"","").replace(/\s+/g," ").trim(),T={title:y,listId:p?.id,dueDate:f};r.arguments.notes&&(T.notes=r.arguments.notes),await tr(T);let A=f?` due ${C(f,`${d?"PPPpp":"PPP"}`)}`:"",R=`Added "${y}" to ${p?.title??"default list"}${A}`;await(0,S.showToast)({style:S.Toast.Style.Success,title:R});return}await(0,S.showToast)({style:S.Toast.Style.Animated,title:"Adding reminder"});let n=(await er()).lists.map(Y=>`${Y.title}:${Y.id}`),i=new Date,s=C(i,"yyyy-MM-dd"),a=C(i,"HH:mm"),o=C(q(i,1),"yyyy-MM-dd"),u=C(Rn(i),"yyyy-MM-dd"),l=C(Nn(i),"yyyy-MM-dd"),h=C(kn(i),"yyyy-MM-dd"),g=q(i,-3),I=C(g,"MMM"),mt=C(g,"d"),ht=C(an(g,1),"yyyy-MM-dd"),pt=q(i,2),Q=C(pt,"yyyy-MM-dd"),K=C(pt,"EEEE"),gt=C(q(i,9),"yyyy-MM-dd"),J=C(ft(i,1),"haa"),G=C(q(ft(i,1),1),"yyyy-MM-dd'T'HH:00:ss"),le=C(ft(i,-1),"haa"),Te=C(q(ft(i,-1),1),"yyyy-MM-dd'T'HH:00:ss"),we=await S.LocalStorage.getItem("saved-locations"),k=`Act as a NLP parser for tasks. I'll give you a task text and you'll return me only a parsable and minified JSON object.


Here's the JSON Object structure:
{
  "title": <Task title>,
  "description": <Task description. A human-readable description of the task. Use relative dates when appropriate. Include the task name in single quotes. Always include the list (or "default list" if none is specified). Always include the priority level if specified. Always include the recurrence if specified.>,
  "priority": <Task priority. Only pick the value from this list: "low", "medium", "high". Use the "high" priority if the task text specifies a word such as "urgent", "important", or an exclamation mark.>,
  "listId": <Task list ID. Pick it from the following table by finding the list name corresponding to an ID: ${n}. Don't add a listId if the user hasn't specified a list name. Note that the user can prepend the "#" or "@" symbols to list names, for example, "#work" or "@work".>,
  "dueDate": <Task due date. Can either be a full day date (YYYY-MM-DD) or an ISO date if the time is specified (YYYY-MM-DDTHH:mm:ss.sssZ). Use sensible defaults for common timeframes (e.g "8am" for "morning", "1pm" for "afternoon", "6pm" for "evening"). A number with "a" or "p" appended (e.g. "1p" or "8a") should be treated as AM or PM. Never use dates before ${s} unless the specific month/day/year is provided. If the user includes a time before ${a} and no date, assume they mean tomorrow>,
  "recurrence": {
    "frequency": <Recurrence frequency. Only pick the value from this list: "daily", "weekly", "monthly", "yearly".>,
    "interval": <Recurrence interval. An integer greater than 0 that specifies how often a pattern repeats. If a recurrence frequency is "weekly" rule and the interval is 1, then the pattern repeats every week. If a recurrence frequency is "monthly" rule and the interval is 3, then the pattern repeats every 3 months.>,
    "endDate": <Recurrence end date. A full day date (YYYY-MM-DD). If no end date is specified, the recurrence will repeat forever.>
  },
  "address": <Task address. If the task text specifies an address, include it here.>,
  "proximity": <Task proximity. Only pick the value from this list: "enter", "leave".>
  "radius": <Task radius. A number that specifies the radius around the location in meters.>
}

Here are the rules you must follow:
- You MUST return a valid, parsable JSON object.
- Any text in quotes should be taken in its entirely as the task's title, and not interpreted for dates, priority, lists, etc.
- The title is made up of all the words you can't parse, in order. NEVER drop words.
- Always capitalize weekday, month, and list names in your output.
- Don't include a time unless specifically indicated by the user.
- Today is ${s} and the current time is ${a}.
- Pay special attention to "this" vs "next" day of the week.
- The weekend begins on Saturday and the week begins on Monday. (e.g. tasks for "next week" would be scheduled for the upcoming Monday.)
- Any recurring task MUST include a dueDate. If no due date is specified, use one that makes the most sense.
- If the user seems to specify an address, search for a matching location in the following data set: ${we}.

Here are some examples to help you out:
- Respond to email: {"title":"Respond to email"}
- Book flights today: {"title":"Book flights","description":"'Book flights' today to default list","dueDate":"${s}"}
- Collect dry cleaning this evening: {"title":"Collect dry cleaning","description":"'Collect dry cleaning' today at 6pm to default list","dueDate":"${s}T18:00:00.000Z"}
- Ship feature low priority: {"title":"Ship feature","description":"'Ship feature' (low priority) to default list","priority":"low"}
- Pay taxes this weekend important: {"title":"Pay taxes","description":"'Pay taxes' (high priority) on Saturday to default list","priority":"high","dueDate":"${l}"}
- Check for newspaper today!: {"title":"Check for newspaper","description":"'Check for newspaper' (high priority) today to default list","dueDate":"${s}","priority":"high"} 
- Take a walk ${le}: {"title":"Take a walk","description":"'Take a walk' today at ${le} to default list","dueDate":"${Te}"}
- Take a walk ${J}: {"title":"Take a walk","description":"'Take a walk' tomorrow at ${J} to default list","dueDate":"${G}"}
- Eat ${le} nachos: {"title":"Eat nachos","description":"'Eat nachos' today at ${le} to default list","dueDate":"${Te}"}
- Get groceries ${K}: {"title":"Get groceries","description":"'Get groceries' on ${Q} to default list","dueDate":"${Q}"}
- Get groceries next ${K}: {"title":"Get groceries","description":"'Get groceries' on ${gt} to default list","dueDate":"${gt}"}
- Read a book every day: {"title":"Read a book","description":"'Read a book' daily to default list","dueDate":"${s}","recurrence":{"frequency":"daily","interval":1}, }
- Read every book fri: {"title":"Read every book","description":"'Read every book' on Friday to default list","dueDate":"${u}"}
- Read books every fri: {"title":"Read books","description":"'Read books' weekly on Fridays to default list","dueDate":"${u}","recurrence":{"frequency":"weekly","interval":1}}
- Clean the house every sunday: {"title":"Clean the house","description":"'Clean the house' weekly on Sundays to default list","dueDate":"${h}","recurrence":{"frequency":"weekly","interval":1}
- Call mom monthly on sunday: {"title":"Call mom","description":"'Call mom' monthly starting ${h} to default list","dueDate":"${h}","recurrence":{"frequency":"monthly","interval":1}}
- Dad's birthday on ${I} ${mt}: {"title":"Dad's birthday","description":"'Dad's birthday' on ${ht} to default list","dueDate":"${ht}"}
- Monthly breakfast with friends Saturday: {"title":"Monthly breakfast with friends","description":"'Monthly breakfast with friends' recurring monthly starting ${l} to default list","dueDate":"${l}","recurrence":{"frequency":"monthly","interval":1}}
- Review budget every 2 months starting from tomorrow: {"title":"Review budget","description":"'Review budget' every 2 months starting ${o} to default list","dueDate":"${o}", "recurrence":{"frequency":"monthly","interval":2}}
- Water the flowers every day from tomorrow until ${K}: {"title":"Water the flowers","description":"'Water the flowers' every day from ${o} until ${Q} to default list","dueDate":"${o}","recurrence":{"frequency":"daily","interval":1,"endDate":"${Q}"}}
- Cook meals until ${K}: {"title":"Cook meals","description":"'Cook meals' every day until ${Q} to default list","dueDate":"${s}","recurrence":{"frequency":"daily","interval":1,"endDate":"${Q}"}}

Task text: "${r.fallbackText??r.arguments.text}"`,{description:P,...L}=await Gs(k);if(r.arguments.notes&&(L.notes=r.arguments.notes),L.dueDate&&L.dueDate.includes("T")){let Y=new Date(L.dueDate),p=Y.getTimezoneOffset()*60*1e3;L.dueDate=new Date(Y.getTime()+p).toISOString()}await tr(L),await(0,S.showToast)({style:S.Toast.Style.Success,title:"Added reminder: "+P})}catch(e){console.log(e);let t=e instanceof Error?e.message:JSON.stringify(e);await(0,S.showToast)({style:S.Toast.Style.Failure,title:"Unable to add reminder",message:t})}}async function Gs(r){for(let t=0;t<3;t++)try{let i=(await S.AI.ask(r,{model:S.AI.Model.OpenAI_GPT4o})).match(/[{\\[]{1}([,:{}\\[\]0-9.\-+Eaeflnr-u \n\r\t]|".*?")+[}\]]{1}/gis)?.[0];if(!i)throw new Error("Invalid result returned from AI");let s=JSON.parse(i.trim());if(s.recurrence&&!s.dueDate)throw new Error("Recurrence without dueDate");return s}catch{console.log(`Retriying AI call. Retry count: ${t}`)}throw new Error("Max retries reached. Unable to get a valid response from AI.")}
